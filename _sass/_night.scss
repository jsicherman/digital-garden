$color-primary: #ffffff;
$color-text: #ffffffe6;
$color-subtext: #B0B3B8;
$color-border: #3A3B3C;
$color-bg: #18191A;
$color-box-background: mix($color-bg, black, 4%);

body.night-mode {
  background-color: $color-bg;
  color: $color-text;
}

body.night-mode #tooltip-wrapper {
    background-color: $color-border;
    border: 1px solid #171910;
}

body.night-mode #tooltip-wrapper:after {
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1) 90%);
}

body.night-mode #graph-wrapper {
    background-color: $color-border;
}

body.night-mode #graph-wrapper .text text {
    fill: $color-text;
    text-shadow: unset;
}

body.night-mode
.nodes [active],
.text [active] {
  fill: white;
}

body.night-mode time {
  color: $color-subtext;
}

body.night-mode footer {
  color: mix($color-text, white, 80%);
}

body.night-mode footer a.internal-link {
  color: mix($color-text, white, 80%);
}

body.night-mode blockquote {
  background: $color-box-background;
  border-radius: $border-radius;
}

body.night-mode hr {
  background: $color-border;
}

body.night-mode nav a.internal-link {
    color: $color-primary;
}

body.night-mode #tooltip-wrapper a.internal-link {
    color: $color-primary;
    background-color: $color-subtext;
}

body.night-mode a.internal-link {
    color: $color-bg;
}

body.night-mode a {
  border-bottom: 1px solid $color-border;
  color: $color-primary;
  &:hover {
    color: $color-text !important;
    background: $color-border;
  }
  &:after {
    color: #aaaaaa;
  }
}

body.night-mode .highlight {
  background: #303132;

}

body.night-mode *:focus {
  background: $color-border !important;
  color: $color-text !important;
}

body.night-mode .backlink-box {
  background: $color-border;
}

body.night-mode .backlink-box .internal-link {
    color: unset;
    &:hover {
      background-color: #303132;
    }
}

body.night-mode code {
  background: #303132;
}

body.night-mode .invalid-link {
  color: #444444;
  background: #fafafa;
}
  
body.night-mode .invalid-link-brackets {
  color: #ccc;
}

body.night-mode hr::after {
  content: "";
  display: block;
  width: 100%;
  height: 10px;
  background-image: repeating-linear-gradient(to right, transparent 0 10.4%, white 0 10.9%, transparent 0 11.1%, white 0 12.3%, transparent 0 30%, white 0 31%),repeating-linear-gradient(to right, transparent 0 11%, white 0 11.8%, transparent 0 55%),repeating-linear-gradient(to right, transparent 0 24%, white 0 24.8%);
  background-size: 100% 1px;
  background-position-y: 3px, 6px, 6px;
  background-repeat: repeat-x;
}

body.night-mode label.cactus::after {
  content: "";
  position: absolute;
  display: block;
  width: 135px;
  height: 204px;
  left: 60%;
  transform: scale(0.4) translateY(-332px);
  background-image: linear-gradient(white, white),linear-gradient(white, white),linear-gradient(white, white),linear-gradient(white, white),linear-gradient(white, white),linear-gradient(white, white),linear-gradient(white, white),radial-gradient(circle, white 1vw, transparent 0),linear-gradient(white, white);
  background-size: 25px 180px,13px 13px,25px 37px,13px 13px,50px 25px,13px 13px,25px 37px,13px 13px,50px 25px;
  background-position: 75px 37px,80px 26px,36px 105px,42px 93px,47px 125px,97px 136px,108px 85px,113px 75px,75px 114px;
  background-repeat: no-repeat;
}

body.night-mode #title::after, body.night-mode #last::after {
  background: white;
}